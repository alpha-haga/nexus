#server:
#  error:
#    include-message: always
#    include-binding-errors: always
#    include-stacktrace: on_param

#logging:
#  level:
#    # JDBC 実行と DataSource 切替の切り分け用（local のみ）
#    org.springframework.jdbc.core: DEBUG
#    org.springframework.jdbc.datasource: DEBUG
#    com.zaxxer.hikari: DEBUG

spring:
  config:
    activate:
      on-profile: local

  jpa:
    # P0-3b: RoutingDataSource は RegionContext 未設定を FAIL させる方針のため、
    # 起動時に Hibernate が JDBC メタデータ取得で DataSource#getConnection() を呼ぶと
    # RegionContext 未設定で落ちる。local では起動時アクセスを抑制する。
    database-platform: org.hibernate.dialect.H2Dialect
    properties:
      hibernate:
        boot:
          allow_jdbc_metadata_access: false
nexus:
  security:
    oauth2:
      issuer-uri: ${NEXUS_OIDC_ISSUER_URI:http://localhost:18080/realms/nexus}
